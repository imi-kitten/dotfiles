# yaml-language-server: $schema=https://raw.githubusercontent.com/JanDeDobbeleer/oh-my-posh/main/themes/schema.json

transient_prompt:
    template: ' '
    foreground: '#FEF5ED'
    background: transparent
upgrade:
  notice: true
  interval: 168h
  auto: true
  source: cdn
console_title_template: '{{.UserName}}@{{.HostName}} using {{.Shell}} in {{ .Folder }}'
blocks:
    - type: prompt
      alignment: left
      segments:
        - leading_diamond: 
          trailing_diamond: <transparent,#FEF5ED></>
          template: ' {{ if .WSL }}WSL at {{ end }}{{.Icon}} '
          foreground: '#011627'
          background: '#FEF5ED'
          type: os
          style: diamond
        - leading_diamond: 
          trailing_diamond: <transparent,#502688></>
          template: ' ♥ {{ .CurrentDate | date .Format }}  '
          foreground: '#FEF5ED'
          background: '#502688'
          type: time
          style: diamond
          options:
            time_format: 03:04:05 PM MST | Monday
        - leading_diamond: 
          trailing_diamond: <transparent,#8F61DB></>
          template: ' {{ if .SSHSession }} {{ end }}{{ .UserName }}@{{ .HostName }} '
          foreground: '#011627'
          background: '#8F61DB'
          type: session
          style: diamond
        - leading_diamond: 
          trailing_diamond: <transparent,#8F61DB></>
          template: '  {{ .Name }} '
          foreground: '#011627'
          background: '#8F61DB'
          type: shell
          style: diamond
        - leading_diamond: 
          template: ' CPU: {{ round .PhysicalPercentUsed .Precision }}% | '
          foreground: '#ffffff'
          background: '#DA70D6'
          type: sysinfo
          style: diamond
        - trailing_diamond: <transparent,#DA70D6></>
          template: 'RAM: {{ (div ((sub .PhysicalTotalMemory .PhysicalFreeMemory)|float64) 1073741824.0) }}/{{ (div .PhysicalTotalMemory 1073741824.0) }}GB  '
          foreground: '#ffffff'
          background: '#DA70D6'
          type: sysinfo
          style: diamond
        - leading_diamond: 
          trailing_diamond: 
          template: '{{ .UpstreamIcon }}{{ .HEAD }}{{if .BranchStatus }} {{ .BranchStatus}}{{ end }}{{ if .Working.Changed }}   {{ .Working.String }}{{ end }}{{ if and (.Working.Changed) (.Staging.Changed) }} |{{ end }}{{ if .Staging.Changed }}   {{ .Staging.String }}{{ end }}{{ if gt .StashCount 0 }}   {{ .StashCount }}{{ end }}'
          foreground: '#ffffff'
          background: '#2e36aa'
          type: git
          style: diamond
    - type: prompt
      alignment: left
      segments:
        - leading_diamond: 
          trailing_diamond: <transparent,#FEF5ED></>
          template: ' ❤ '
          foreground: '#011627'
          background: '#FEF5ED'
          type: text
          style: diamond
        - leading_diamond: 
          trailing_diamond: <transparent,#502688></>
          template: ' ♥ {{ dateInZone .Format .CurrentDate "UTC" }} '
          foreground: '#FEF5ED'
          background: '#502688'
          type: time
          style: diamond
          options:
            time_format: 03:04:05 PM UTC
        - leading_diamond: 
          trailing_diamond: <transparent,#DA70D6></>
          template: ' {{ .Icon }}{{ if ne .Status "stopped" }}{{ .Full }}{{ end }} '
          foreground: '#ffffff'
          background: '#DA70D6'
          type: lastfm
          style: diamond
        - leading_diamond: 
          trailing_diamond: <transparent,#EE4A90></>
          template: '  {{ .Venv }} '
          foreground: '#000000'
          background: '#EE4A90'
          type: python
          style: diamond
        - leading_diamond: 
          trailing_diamond: <transparent,#EE4A90></>
          foreground: '#000000'
          background: '#EE4A90'
          type: docker
          style: diamond
        - leading_diamond: 
          trailing_diamond: <transparent,#EE4A90></>
          template: " \U000F10FE {{.Context}}{{if .Namespace}} :: {{.Namespace}}{{end}} "
          foreground: '#000000'
          background: '#EE4A90'
          type: kubectl
          style: diamond
        - leading_diamond: 
          trailing_diamond: <transparent,#EE4A90></>
          foreground: '#000000'
          background: '#EE4A90'
          type: helm
          style: diamond
        - leading_diamond: 
          trailing_diamond: <transparent,#EE4A90></>
          template: '  {{.Profile}}{{if .Region}}@{{.Region}}{{end}}'
          foreground: '#000000'
          background: '#EE4A90'
          type: aws
          style: diamond
        - leading_diamond: 
          trailing_diamond: <transparent,#EE4A90></>
          template: '  {{ .EnvironmentName }}'
          foreground: '#000000'
          background: '#EE4A90'
          type: az
          style: diamond
        - leading_diamond: 
          trailing_diamond: <transparent,#575656></>
          template: ' {{ .FormattedMs }} '
          foreground: '#d6deeb'
          background: '#575656'
          type: executiontime
          style: diamond
          options:
            threshold: 500
            style: austin
            always_enabled: true
        - leading_diamond: 
          trailing_diamond: 
          foreground: '#d6deeb'
          background: '#575656'
          type: status
          style: diamond
          options:
            always_enabled: true
      newline: true
    - type: prompt
      alignment: left
      segments:
        - template: '  {{ .Path }} '
          foreground: '#ffafd2'
          type: path
          style: diamond
          options:
            folder_separator_icon: /
            home_icon: '~'
            folder_icon: ..
            windows_registry_icon: 
            style: agnoster_full
            max_depth: 1
            max_width: 0
            mapped_locations_enabled: true
            mixed_threshold: 4
            hide_root_location: false
            cycle_folder_separator: false
            display_cygpath: false
            dir_length: 1
            full_length_dirs: 1
        - type: status
          template: '   '
          foreground: '#ffafd2'
          style: plain
          foreground_templates:
            - '{{ if gt .Code 0 }}#ff0000{{ end }}'
          options:
            always_enabled: true
      newline: true
version: 4
shell_integration: true
